export default function Grid({swiper:e,extendParams:r}){let t,a,l;r({grid:{rows:1,fill:"column"}});const i=()=>{let r=e.params.spaceBetween;return"string"==typeof r&&r.indexOf("%")>=0?r=parseFloat(r.replace("%",""))/100*e.size:"string"==typeof r&&(r=parseFloat(r)),r};e.grid={initSlides:r=>{const{slidesPerView:i}=e.params,{rows:o,fill:s}=e.params.grid;a=t/o,l=Math.floor(r/o),t=Math.floor(r/o)===r/o?r:Math.ceil(r/o)*o,"auto"!==i&&"row"===s&&(t=Math.max(t,i*o))},updateSlide:(r,o,s,p)=>{const{slidesPerGroup:n}=e.params,d=i(),{rows:f,fill:h}=e.params.grid;let u,c,m;if("row"===h&&n>1){const e=Math.floor(r/(n*f)),a=r-f*n*e,l=0===e?n:Math.min(Math.ceil((s-e*f*n)/f),n);m=Math.floor(a/l),c=a-m*l+e*n,u=c+m*t/f,o.style.order=u}else"column"===h?(c=Math.floor(r/f),m=r-c*f,(c>l||c===l&&m===f-1)&&(m+=1,m>=f&&(m=0,c+=1))):(m=Math.floor(r/a),c=r-m*a);o.style[p("margin-top")]=0!==m?d&&`${d}px`:""},updateWrapperSize:(r,a,l)=>{const{centeredSlides:o,roundLengths:s}=e.params,p=i(),{rows:n}=e.params.grid;if(e.virtualSize=(r+p)*t,e.virtualSize=Math.ceil(e.virtualSize/n)-p,e.wrapperEl.style[l("width")]=`${e.virtualSize+p}px`,o){const r=[];for(let t=0;t<a.length;t+=1){let l=a[t];s&&(l=Math.floor(l)),a[t]<e.virtualSize+a[0]&&r.push(l)}a.splice(0,a.length),a.push(...r)}}}}