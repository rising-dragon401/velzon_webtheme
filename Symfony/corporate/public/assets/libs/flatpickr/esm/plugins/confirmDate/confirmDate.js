var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var e,i=1,t=arguments.length;i<t;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},__assign.apply(this,arguments)};import{getEventTarget}from"../../utils/dom";var defaultConfig={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function confirmDatePlugin(n){var e,i=__assign(__assign({},defaultConfig),n),t="flatpickr-confirm";return function(n){return n.config.noCalendar||n.isMobile?{}:__assign({onKeyDown:function(i,t,o,a){var r=getEventTarget(a),s=!n.config.time_24hr&&r===n.amPM||n.config.time_24hr&&(n.config.enableSeconds&&r===n.secondElement||!n.config.enableSeconds&&r===n.minuteElement);n.config.enableTime&&"Tab"===a.key&&s?(a.preventDefault(),e.focus()):"Enter"===a.key&&r===e&&n.close()},onReady:function(){(e=n._createElement("div",t+" "+(i.showAlways?"visible":"")+" "+i.theme+"Theme",i.confirmText)).tabIndex=-1,e.innerHTML+=i.confirmIcon,e.addEventListener("click",n.close),n.calendarContainer.appendChild(e),n.loadedPlugins.push("confirmDate")}},i.showAlways?{}:{onChange:function(e,i){var o=n.config.enableTime||"multiple"===n.config.mode||-1!==n.loadedPlugins.indexOf("monthSelect"),a=n.calendarContainer.querySelector("."+t);if(a)return i&&!n.config.inline&&o&&a?a.classList.add("visible"):void a.classList.remove("visible")}})}}export default confirmDatePlugin;