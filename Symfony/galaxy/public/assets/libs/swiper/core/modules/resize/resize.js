import{getWindow}from"ssr-window";export default function Resize({swiper:e,on:i,emit:t}){const n=getWindow();let r=null,o=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(t("beforeResize"),t("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&t("orientationchange")};i("init",(()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(r=new ResizeObserver((i=>{o=n.requestAnimationFrame((()=>{const{width:t,height:n}=e;let r=t,o=n;i.forEach((({contentBoxSize:i,contentRect:t,target:n})=>{n&&n!==e.el||(r=t?t.width:(i[0]||i).inlineSize,o=t?t.height:(i[0]||i).blockSize)})),r===t&&o===n||s()}))})),r.observe(e.el)):(n.addEventListener("resize",s),n.addEventListener("orientationchange",a))})),i("destroy",(()=>{o&&n.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null),n.removeEventListener("resize",s),n.removeEventListener("orientationchange",a)}))}