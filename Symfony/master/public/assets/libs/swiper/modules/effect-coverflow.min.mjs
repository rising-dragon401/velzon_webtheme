import{c as e}from"../shared/create-shadow.min.mjs";import{e as t}from"../shared/effect-init.min.mjs";import{e as s}from"../shared/effect-target.min.mjs";import{l as r}from"../shared/utils.min.mjs";function a(a){let{swiper:o,extendParams:i,on:l}=a;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),t({effect:"coverflow",swiper:o,on:l,setTranslate:()=>{const{width:t,height:r,slides:a,slidesSizesGrid:i}=o,l=o.params.coverflowEffect,d=o.isHorizontal(),h=o.translate,f=d?t/2-h:r/2-h,c=d?l.rotate:-l.rotate,n=l.depth;for(let t=0,r=a.length;t<r;t+=1){const r=a[t],h=i[t],p=(f-r.swiperSlideOffset-h/2)/h,w="function"==typeof l.modifier?l.modifier(p):p*l.modifier;let m=d?c*w:0,b=d?0:c*w,y=-n*Math.abs(w),u=l.stretch;"string"==typeof u&&-1!==u.indexOf("%")&&(u=parseFloat(l.stretch)/100*h);let M=d?0:u*w,S=d?u*w:0,g=1-(1-l.scale)*Math.abs(w);Math.abs(S)<.001&&(S=0),Math.abs(M)<.001&&(M=0),Math.abs(y)<.001&&(y=0),Math.abs(m)<.001&&(m=0),Math.abs(b)<.001&&(b=0),Math.abs(g)<.001&&(g=0),o.browser&&o.browser.isSafari&&(Math.abs(m)/90%2==1&&(m+=.001),Math.abs(b)/90%2==1&&(b+=.001));const $=`translate3d(${S}px,${M}px,${y}px)  rotateX(${b}deg) rotateY(${m}deg) scale(${g})`;if(s(l,r).style.transform=$,r.style.zIndex=1-Math.abs(Math.round(w)),l.slideShadows){let t=d?r.querySelector(".swiper-slide-shadow-left"):r.querySelector(".swiper-slide-shadow-top"),s=d?r.querySelector(".swiper-slide-shadow-right"):r.querySelector(".swiper-slide-shadow-bottom");t||(t=e("coverflow",r,d?"left":"top")),s||(s=e("coverflow",r,d?"right":"bottom")),t&&(t.style.opacity=w>0?w:0),s&&(s.style.opacity=-w>0?-w:0)}}},setTransition:e=>{o.slides.map((e=>r(e))).forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))}))},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}export{a as default};