import{c as a}from"../shared/create-element-if-not-defined.min.mjs";function n(n){let{swiper:e,extendParams:i,on:t,emit:s}=n;i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const l=a=>(Array.isArray(a)?a:[a]).filter((a=>!!a));function o(a){let n;return a&&"string"==typeof a&&e.isElement&&(n=e.el.querySelector(a),n)?n:(a&&("string"==typeof a&&(n=[...document.querySelectorAll(a)]),e.params.uniqueNavElements&&"string"==typeof a&&n.length>1&&1===e.el.querySelectorAll(a).length&&(n=e.el.querySelector(a))),a&&!n?a:n)}function r(a,n){const i=e.params.navigation;(a=l(a)).forEach((a=>{a&&(a.classList[n?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===a.tagName&&(a.disabled=n),e.params.watchOverflow&&e.enabled&&a.classList[e.isLocked?"add":"remove"](i.lockClass))}))}function d(){const{nextEl:a,prevEl:n}=e.navigation;if(e.params.loop)return r(n,!1),void r(a,!1);r(n,e.isBeginning&&!e.params.rewind),r(a,e.isEnd&&!e.params.rewind)}function c(a){a.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function p(a){a.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function v(){const n=e.params.navigation;if(e.params.navigation=a(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!n.nextEl&&!n.prevEl)return;let i=o(n.nextEl),t=o(n.prevEl);Object.assign(e.navigation,{nextEl:i,prevEl:t}),i=l(i),t=l(t);const s=(a,i)=>{a&&a.addEventListener("click","next"===i?p:c),!e.enabled&&a&&a.classList.add(...n.lockClass.split(" "))};i.forEach((a=>s(a,"next"))),t.forEach((a=>s(a,"prev")))}function g(){let{nextEl:a,prevEl:n}=e.navigation;a=l(a),n=l(n);const i=(a,n)=>{a.removeEventListener("click","next"===n?p:c),a.classList.remove(...e.params.navigation.disabledClass.split(" "))};a.forEach((a=>i(a,"next"))),n.forEach((a=>i(a,"prev")))}t("init",(()=>{!1===e.params.navigation.enabled?m():(v(),d())})),t("toEdge fromEdge lock unlock",(()=>{d()})),t("destroy",(()=>{g()})),t("enable disable",(()=>{let{nextEl:a,prevEl:n}=e.navigation;a=l(a),n=l(n),e.enabled?d():[...a,...n].filter((a=>!!a)).forEach((a=>a.classList.add(e.params.navigation.lockClass)))})),t("click",((a,n)=>{let{nextEl:i,prevEl:t}=e.navigation;i=l(i),t=l(t);const o=n.target;if(e.params.navigation.hideOnClick&&!t.includes(o)&&!i.includes(o)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;let a;i.length?a=i[0].classList.contains(e.params.navigation.hiddenClass):t.length&&(a=t[0].classList.contains(e.params.navigation.hiddenClass)),s(!0===a?"navigationShow":"navigationHide"),[...i,...t].filter((a=>!!a)).forEach((a=>a.classList.toggle(e.params.navigation.hiddenClass)))}}));const m=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),v(),d()},disable:m,update:d,init:v,destroy:g})}export{n as default};