import{c as e}from"../shared/classes-to-selector.min.mjs";import{c as a,g as i}from"../shared/utils.min.mjs";function t(t){let{swiper:n,extendParams:s,on:r}=t;s({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),n.a11y={clicked:!1};let o=null;function l(e){const a=o;0!==a.length&&(a.innerHTML="",a.innerHTML=e)}const d=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function c(e){(e=d(e)).forEach((e=>{e.setAttribute("tabIndex","0")}))}function p(e){(e=d(e)).forEach((e=>{e.setAttribute("tabIndex","-1")}))}function g(e,a){(e=d(e)).forEach((e=>{e.setAttribute("role",a)}))}function u(e,a){(e=d(e)).forEach((e=>{e.setAttribute("aria-roledescription",a)}))}function f(e,a){(e=d(e)).forEach((e=>{e.setAttribute("aria-label",a)}))}function m(e){(e=d(e)).forEach((e=>{e.setAttribute("aria-disabled",!0)}))}function v(e){(e=d(e)).forEach((e=>{e.setAttribute("aria-disabled",!1)}))}function b(a){if(13!==a.keyCode&&32!==a.keyCode)return;const i=n.params.a11y,t=a.target;n.pagination&&n.pagination.el&&(t===n.pagination.el||n.pagination.el.contains(a.target))&&!a.target.matches(e(n.params.pagination.bulletClass))||(n.navigation&&n.navigation.nextEl&&t===n.navigation.nextEl&&(n.isEnd&&!n.params.loop||n.slideNext(),n.isEnd?l(i.lastSlideMessage):l(i.nextSlideMessage)),n.navigation&&n.navigation.prevEl&&t===n.navigation.prevEl&&(n.isBeginning&&!n.params.loop||n.slidePrev(),n.isBeginning?l(i.firstSlideMessage):l(i.prevSlideMessage)),n.pagination&&t.matches(e(n.params.pagination.bulletClass))&&t.click())}function E(){return n.pagination&&n.pagination.bullets&&n.pagination.bullets.length}function h(){return E()&&n.params.pagination.clickable}const y=(e,a,i)=>{c(e),"BUTTON"!==e.tagName&&(g(e,"button"),e.addEventListener("keydown",b)),f(e,i),function(e,a){(e=d(e)).forEach((e=>{e.setAttribute("aria-controls",a)}))}(e,a)},M=()=>{n.a11y.clicked=!0},x=()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{n.destroyed||(n.a11y.clicked=!1)}))}))},L=e=>{if(n.a11y.clicked)return;const a=e.target.closest(`.${n.params.slideClass}, swiper-slide`);if(!a||!n.slides.includes(a))return;const i=n.slides.indexOf(a)===n.activeIndex,t=n.params.watchSlidesProgress&&n.visibleSlides&&n.visibleSlides.includes(a);i||t||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(n.isHorizontal()?n.el.scrollLeft=0:n.el.scrollTop=0,n.slideTo(n.slides.indexOf(a),0))},A=()=>{const e=n.params.a11y;e.itemRoleDescriptionMessage&&u(n.slides,e.itemRoleDescriptionMessage),e.slideRole&&g(n.slides,e.slideRole);const a=n.slides.length;e.slideLabelMessage&&n.slides.forEach(((i,t)=>{const s=n.params.loop?parseInt(i.getAttribute("data-swiper-slide-index"),10):t;f(i,e.slideLabelMessage.replace(/\{\{index\}\}/,s+1).replace(/\{\{slidesLength\}\}/,a))}))};r("beforeInit",(()=>{o=a("span",n.params.a11y.notificationClass),o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true")})),r("afterInit",(()=>{n.params.a11y.enabled&&(()=>{const e=n.params.a11y;n.el.append(o);const a=n.el;e.containerRoleDescriptionMessage&&u(a,e.containerRoleDescriptionMessage),e.containerMessage&&f(a,e.containerMessage);const i=n.wrapperEl,t=e.id||i.getAttribute("id")||`swiper-wrapper-${s=16,void 0===s&&(s=16),"x".repeat(s).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}`;var s;const r=n.params.autoplay&&n.params.autoplay.enabled?"off":"polite";var l;l=t,d(i).forEach((e=>{e.setAttribute("id",l)})),function(e,a){(e=d(e)).forEach((e=>{e.setAttribute("aria-live",a)}))}(i,r),A();let{nextEl:c,prevEl:p}=n.navigation?n.navigation:{};c=d(c),p=d(p),c&&c.forEach((a=>y(a,t,e.nextSlideMessage))),p&&p.forEach((a=>y(a,t,e.prevSlideMessage))),h()&&d(n.pagination.el).forEach((e=>{e.addEventListener("keydown",b)})),n.el.addEventListener("focus",L,!0),n.el.addEventListener("pointerdown",M,!0),n.el.addEventListener("pointerup",x,!0)})()})),r("slidesLengthChange snapGridLengthChange slidesGridLengthChange",(()=>{n.params.a11y.enabled&&A()})),r("fromEdge toEdge afterInit lock unlock",(()=>{n.params.a11y.enabled&&function(){if(n.params.loop||n.params.rewind||!n.navigation)return;const{nextEl:e,prevEl:a}=n.navigation;a&&(n.isBeginning?(m(a),p(a)):(v(a),c(a))),e&&(n.isEnd?(m(e),p(e)):(v(e),c(e)))}()})),r("paginationUpdate",(()=>{n.params.a11y.enabled&&function(){const a=n.params.a11y;E()&&n.pagination.bullets.forEach((t=>{n.params.pagination.clickable&&(c(t),n.params.pagination.renderBullet||(g(t,"button"),f(t,a.paginationBulletMessage.replace(/\{\{index\}\}/,i(t)+1)))),t.matches(e(n.params.pagination.bulletActiveClass))?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current")}))}()})),r("destroy",(()=>{n.params.a11y.enabled&&function(){o&&o.remove();let{nextEl:e,prevEl:a}=n.navigation?n.navigation:{};e=d(e),a=d(a),e&&e.forEach((e=>e.removeEventListener("keydown",b))),a&&a.forEach((e=>e.removeEventListener("keydown",b))),h()&&d(n.pagination.el).forEach((e=>{e.removeEventListener("keydown",b)})),n.el.removeEventListener("focus",L,!0),n.el.removeEventListener("pointerdown",M,!0),n.el.removeEventListener("pointerup",x,!0)}()}))}export{t as default};