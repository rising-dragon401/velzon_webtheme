import{h,ref,onMounted,onUpdated,onBeforeUpdate,computed,onBeforeUnmount,provide}from"vue";import{uniqueClasses}from"../components-shared/utils.js";const SwiperSlide={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,i){let{slots:l}=i,d=!1;const{swiperRef:a}=e,s=ref(null),r=ref("swiper-slide"),o=ref(!1);function u(e,i,l){i===s.value&&(r.value=l)}onMounted((()=>{a&&a.value&&(a.value.on("_slideClass",u),d=!0)})),onBeforeUpdate((()=>{!d&&a&&a.value&&(a.value.on("_slideClass",u),d=!0)})),onUpdated((()=>{s.value&&a&&a.value&&(void 0!==e.swiperSlideIndex&&(s.value.swiperSlideIndex=e.swiperSlideIndex),a.value.destroyed&&"swiper-slide"!==r.value&&(r.value="swiper-slide"))})),onBeforeUnmount((()=>{a&&a.value&&a.value.off("_slideClass",u)}));const t=computed((()=>({isActive:r.value.indexOf("swiper-slide-active")>=0,isVisible:r.value.indexOf("swiper-slide-visible")>=0,isPrev:r.value.indexOf("swiper-slide-prev")>=0,isNext:r.value.indexOf("swiper-slide-next")>=0})));provide("swiperSlide",t);const n=()=>{o.value=!0};return()=>h(e.tag,{class:uniqueClasses(`${r.value}`),ref:s,"data-swiper-slide-index":void 0===e.virtualIndex&&a&&a.value&&a.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:n},e.zoom?h("div",{class:"swiper-zoom-container","data-swiper-zoom":"number"==typeof e.zoom?e.zoom:void 0},[l.default&&l.default(t.value),e.lazy&&!o.value&&h("div",{class:"swiper-lazy-preloader"})]):[l.default&&l.default(t.value),e.lazy&&!o.value&&h("div",{class:"swiper-lazy-preloader"})])}};export{SwiperSlide};