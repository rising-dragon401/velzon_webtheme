import{isObject,extend}from"./utils.js";function updateSwiper({swiper:e,slides:l,passedParams:n,changedParams:o,nextEl:i,prevEl:t,scrollbarEl:r,paginationEl:a}){const s=o.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:d,pagination:c,navigation:p,scrollbar:v,virtual:u,thumbs:E}=e;let g,m,b,h,w,x,f,S;o.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(g=!0),o.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(m=!0),o.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(d.pagination||!1===d.pagination)&&c&&!c.el&&(b=!0),o.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||r)&&(d.scrollbar||!1===d.scrollbar)&&v&&!v.el&&(h=!0),o.includes("navigation")&&n.navigation&&(n.navigation.prevEl||t)&&(n.navigation.nextEl||i)&&(d.navigation||!1===d.navigation)&&p&&!p.prevEl&&!p.nextEl&&(w=!0);const y=l=>{e[l]&&(e[l].destroy(),"navigation"===l?(e.isElement&&(e[l].prevEl.remove(),e[l].nextEl.remove()),d[l].prevEl=void 0,d[l].nextEl=void 0,e[l].prevEl=void 0,e[l].nextEl=void 0):(e.isElement&&e[l].el.remove(),d[l].el=void 0,e[l].el=void 0))};if(o.includes("loop")&&e.isElement&&(d.loop&&!n.loop?x=!0:!d.loop&&n.loop?f=!0:S=!0),s.forEach((e=>{if(isObject(d[e])&&isObject(n[e]))extend(d[e],n[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in n[e])||n[e].enabled||y(e);else{const l=n[e];!0!==l&&!1!==l||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=n[e]:!1===l&&y(e)}})),s.includes("controller")&&!m&&e.controller&&e.controller.control&&d.controller&&d.controller.control&&(e.controller.control=d.controller.control),o.includes("children")&&l&&u&&d.virtual.enabled&&(u.slides=l,u.update(!0)),o.includes("children")&&l&&d.loop&&(S=!0),g){E.init()&&E.update(!0)}m&&(e.controller.control=d.controller.control),b&&(!e.isElement||a&&"string"!=typeof a||((a=document.createElement("div")).classList.add("swiper-pagination"),e.el.shadowEl.appendChild(a)),a&&(d.pagination.el=a),c.init(),c.render(),c.update()),h&&(!e.isElement||r&&"string"!=typeof r||((r=document.createElement("div")).classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(r)),r&&(d.scrollbar.el=r),v.init(),v.updateSize(),v.setTranslate()),w&&(e.isElement&&(i&&"string"!=typeof i||((i=document.createElement("div")).classList.add("swiper-button-next"),e.el.shadowEl.appendChild(i)),t&&"string"!=typeof t||((t=document.createElement("div")).classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(t))),i&&(d.navigation.nextEl=i),t&&(d.navigation.prevEl=t),p.init(),p.update()),o.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),o.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),o.includes("direction")&&e.changeDirection(n.direction,!1),(x||S)&&e.loopDestroy(),(f||S)&&e.loopCreate(),e.update()}export{updateSwiper};