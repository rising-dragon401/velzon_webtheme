export default function updateSlidesProgress(e=this&&this.translate||0){const s=this,i=s.params,{slides:l,rtlTranslate:t,snapGrid:r}=s;if(0===l.length)return;void 0===l[0].swiperSlideOffset&&s.updateSlidesOffset();let d=-e;t&&(d=e),l.forEach((e=>{e.classList.remove(i.slideVisibleClass)})),s.visibleSlidesIndexes=[],s.visibleSlides=[];let a=i.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*s.size:"string"==typeof a&&(a=parseFloat(a));for(let e=0;e<l.length;e+=1){const n=l[e];let p=n.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(p-=l[0].swiperSlideOffset);const o=(d+(i.centeredSlides?s.minTranslate():0)-p)/(n.swiperSlideSize+a),S=(d-r[0]+(i.centeredSlides?s.minTranslate():0)-p)/(n.swiperSlideSize+a),f=-(d-p),c=f+s.slidesSizesGrid[e];(f>=0&&f<s.size-1||c>1&&c<=s.size||f<=0&&c>=s.size)&&(s.visibleSlides.push(n),s.visibleSlidesIndexes.push(e),l[e].classList.add(i.slideVisibleClass)),n.progress=t?-o:o,n.originalProgress=t?-S:S}}