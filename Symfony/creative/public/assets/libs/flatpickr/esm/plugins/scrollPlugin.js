import{getEventTarget}from"../utils/dom";if("function"!=typeof window.CustomEvent){var CustomEvent_1=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};CustomEvent_1.prototype=window.Event.prototype,window.CustomEvent=CustomEvent_1}function delta(e){return Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))}var scroll=function(e){e.preventDefault();var t=new CustomEvent("increment",{bubbles:!0});t.delta=delta(e),getEventTarget(e).dispatchEvent(t)};function scrollMonth(e){return function(t){t.preventDefault();var n=delta(t);e.changeMonth(n)}}function scrollPlugin(){return function(e){var t=scrollMonth(e);return{onReady:function(){e.timeContainer&&e.timeContainer.addEventListener("wheel",scroll),e.yearElements&&e.yearElements.forEach((function(e){return e.addEventListener("wheel",scroll)})),e.monthElements&&e.monthElements.forEach((function(e){return e.addEventListener("wheel",t)})),e.loadedPlugins.push("scroll")},onDestroy:function(){e.timeContainer&&e.timeContainer.removeEventListener("wheel",scroll),e.yearElements&&e.yearElements.forEach((function(e){return e.removeEventListener("wheel",scroll)})),e.monthElements&&e.monthElements.forEach((function(e){return e.removeEventListener("wheel",t)}))}}}}export default scrollPlugin;