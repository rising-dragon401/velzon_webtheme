var E=Object.defineProperty;var A=(t,e,s)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var d=(t,e,s)=>(A(t,typeof e!="symbol"?e+"":e,s),s);import{R as g,j as c}from"./app-zibdNuU4.js";import{p as i,P as m}from"./index-D3UJIRWV.js";import{M as h}from"./Modal-AyN_hV2R.js";const L=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),x=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),O=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),U=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,s)=>new Set([...e,...s]),[])),S=(t,e)=>{e=e||U(t);let s=e,n=e;x(e)&&(s=e.map(a=>a.label),n=e.map(a=>a.key));const r=t.map(a=>n.map(o=>$(o,a)));return[s,...r]},$=(t,e)=>{const s=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(n,r,a,o){const l=n[r];if(l==null)o.splice(1);else return l},e);return s===void 0?t in e?e[t]:"":s},N=t=>typeof t>"u"||t===null?"":t,C=(t,e=",",s='"')=>t.filter(n=>n).map(n=>n.map(r=>N(r)).map(r=>`${s}${r}${s}`).join(e)).join(`
`),I=(t,e,s,n)=>C(e?[e,...t]:t,s,n),T=(t,e,s,n)=>C(S(t,e),s,n),B=(t,e,s,n)=>e?`${e.join(s)}
${t}`:t.replace(/"/g,'""'),j=(t,e,s,n)=>{if(x(t))return T(t,e,s,n);if(O(t))return I(t,e,s,n);if(typeof t=="string")return B(t,e,s);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},k=(t,e,s,n,r)=>{const a=j(t,s,n,r),o=L()?"application/csv":"text/csv",l=new Blob([e?"\uFEFF":"",a],{type:o}),p=`data:${o};charset=utf-8,${e?"\uFEFF":""}${a}`,u=window.URL||window.webkitURL;return typeof u.createObjectURL>"u"?p:u.createObjectURL(l)},w={data:i.oneOfType([i.string,i.array,i.func]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool,enclosingCharacter:i.string},v={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},V={target:"_blank"};class b extends g.Component{constructor(e){super(e),this.state={}}buildURI(){return k(...arguments)}componentDidMount(){const{data:e,headers:s,separator:n,enclosingCharacter:r,uFEFF:a,target:o,specs:l,replace:p}=this.props;this.state.page=window.open(this.buildURI(e,a,s,n,r),o,l,p)}getWindow(){return this.state.page}render(){return null}}d(b,"defaultProps",Object.assign(v,V)),d(b,"propTypes",w);var f;let D=(f=class extends g.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return k(...arguments)}handleLegacy(e,s=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:n,headers:r,separator:a,filename:o,enclosingCharacter:l,uFEFF:p}=this.props,u=s&&typeof n=="function"?n():n;let y=new Blob([p?"\uFEFF":"",j(u,r,a,l)]);return window.navigator.msSaveBlob(y,o),!1}}handleAsyncClick(e){const s=n=>{if(n===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,s)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:s,separator:n,filename:r,uFEFF:a,children:o,onClick:l,asyncOnClick:p,enclosingCharacter:u,...y}=this.props,F=typeof window>"u"?"":this.buildURI(e,a,s,n,u);return c.jsx("a",{download:r,...y,ref:R=>this.link=R,target:"_self",href:F,onClick:this.handleClick(),children:o})}},d(f,"defaultProps",v),d(f,"propTypes",w),f);const P=D,H=({show:t,onCloseClick:e,data:s})=>c.jsxs(h,{show:t,onHide:e,centered:!0,children:[c.jsx(h.Header,{closeButton:!0}),c.jsxs(h.Body,{className:"py-3 px-5",children:[c.jsxs("div",{className:"mt-2 text-center",children:[c.jsx("i",{className:"ri-file-text-line display-5 text-success"}),c.jsxs("div",{className:"mt-4 pt-2 fs-15 mx-4 mx-sm-5",children:[c.jsx("h4",{children:"Are you sure ?"}),c.jsx("p",{className:"text-muted mx-4 mb-0",children:"Are you sure you want to export CSV file?"})]})]}),c.jsxs("div",{className:"d-flex gap-2 justify-content-center mt-4 mb-2",children:[c.jsx("button",{type:"button",className:"btn w-sm btn-light","data-bs-dismiss":"modal",onClick:e,children:"Close"}),c.jsx(P,{data:s,type:"button",onClick:e,className:"btn w-sm btn-success ",id:"delete-record",children:"Download"})]})]})]});H.propTypes={onCloseClick:m.func,data:m.any,show:m.any};export{H as E};
