function _(t){return t&&t.ownerDocument||document}const w=!!(typeof window<"u"&&window.document&&window.document.createElement);var o=!1,v=!1;try{var i={get passive(){return o=!0},get once(){return v=o=!0}};w&&(window.addEventListener("test",i,i),window.removeEventListener("test",i,!0))}catch{}function E(t,r,n,e){if(e&&typeof e!="boolean"&&!v){var c=e.once,f=e.capture,u=n;!v&&c&&(u=n.__once||function s(a){this.removeEventListener(r,s,f),n.call(this,a)},n.__once=u),t.addEventListener(r,u,o?e:f)}t.addEventListener(r,n,e)}function L(t,r,n,e){var c=e&&typeof e!="boolean"?e.capture:e;t.removeEventListener(r,n,c),n.__once&&t.removeEventListener(r,n.__once,c)}function m(t,r,n,e){return E(t,r,n,e),function(){L(t,r,n,e)}}export{E as a,w as c,m as l,_ as o,L as r};
