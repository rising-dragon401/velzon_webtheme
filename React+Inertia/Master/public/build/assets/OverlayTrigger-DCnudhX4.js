import{a as Z,c as ee}from"./useWindow-W1McY3LT.js";import{P as te}from"./index-D3UJIRWV.js";import{r,I as oe,j as v}from"./app-zibdNuU4.js";import{u as ne}from"./useTimeout--wDUDHQZ.js";import{a as se}from"./hook-rs4oiBak.js";import{u as B}from"./useMergedRefs-tGZzLewq.js";import{u as P,c as _,d as K}from"./ThemeProvider-o6wCTw3b.js";import{u as M}from"./useCallbackRef-n5NLEA_u.js";import{a as re,g as ae,u as ie,m as le}from"./mergeOptionsWithPopperConfig-1ZUyq5Ue.js";import{o as ce,l as ue}from"./listen-7k9MjBk5.js";import{u as W}from"./useEventCallback-peGtB_2q.js";import{i as de,u as H,r as fe,h as U}from"./hasClass-L5d4f6QE.js";import{F as I}from"./Fade-0ChXstfx.js";import{f as S}from"./TransitionWrapper-toSH0Pc1.js";const me=()=>{};function pe(e,o,{disabled:t,clickTrigger:n}={}){const s=o||me;re(e,s,{disabled:t,clickTrigger:n});const i=W(l=>{de(l)&&s(l)});r.useEffect(()=>{if(t||e==null)return;const l=ce(ae(e));let p=(l.defaultView||window).event;const u=ue(l,"keyup",f=>{if(f===p){p=void 0;return}i(f)});return()=>{u()}},[e,t,i])}const z=r.forwardRef((e,o)=>{const{flip:t,offset:n,placement:s,containerPadding:i,popperConfig:l={},transition:p,runTransition:u}=e,[f,y]=M(),[O,w]=M(),m=B(y,o),d=H(e.container),T=H(e.target),[a,h]=r.useState(!e.show),c=ie(T,f,le({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:t,offset:n,arrowElement:O,popperConfig:l}));e.show&&a&&h(!1);const x=(...$)=>{h(!0),e.onExited&&e.onExited(...$)},C=e.show||!a;if(pe(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;const{onExit:k,onExiting:R,onEnter:E,onEntering:N,onEntered:b}=e;let j=e.children(Object.assign({},c.attributes.popper,{style:c.styles.popper,ref:m}),{popper:c,placement:s,show:!!e.show,arrowProps:Object.assign({},c.attributes.arrow,{style:c.styles.arrow,ref:w})});return j=fe(p,u,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:j,onExit:k,onExiting:R,onExited:x,onEnter:E,onEntering:N,onEntered:b}),d?oe.createPortal(j,d):null});z.displayName="Overlay";const he=z,A=r.forwardRef(({className:e,bsPrefix:o,as:t="div",...n},s)=>(o=P(o,"popover-header"),v.jsx(t,{ref:s,className:_(e,o),...n})));A.displayName="PopoverHeader";const ve=A,V=r.forwardRef(({className:e,bsPrefix:o,as:t="div",...n},s)=>(o=P(o,"popover-body"),v.jsx(t,{ref:s,className:_(e,o),...n})));V.displayName="PopoverBody";const q=V;function G(e,o){let t=e;return e==="left"?t=o?"end":"start":e==="right"&&(t=o?"start":"end"),t}function J(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ge=r.forwardRef(({bsPrefix:e,placement:o="right",className:t,style:n,children:s,body:i,arrowProps:l,hasDoneInitialMeasure:p,popper:u,show:f,...y},O)=>{const w=P(e,"popover"),m=K(),[d]=(o==null?void 0:o.split("-"))||[],T=G(d,m);let a=n;return f&&!p&&(a={...n,...J(u==null?void 0:u.strategy)}),v.jsxs("div",{ref:O,role:"tooltip",style:a,"x-placement":d,className:_(t,w,d&&`bs-popover-${T}`),...y,children:[v.jsx("div",{className:"popover-arrow",...l}),i?v.jsx(q,{children:s}):s]})}),ye=Object.assign(ge,{Header:ve,Body:q,POPPER_OFFSET:[0,8]}),Q=r.forwardRef(({bsPrefix:e,placement:o="right",className:t,style:n,children:s,arrowProps:i,hasDoneInitialMeasure:l,popper:p,show:u,...f},y)=>{e=P(e,"tooltip");const O=K(),[w]=(o==null?void 0:o.split("-"))||[],m=G(w,O);let d=n;return u&&!l&&(d={...n,...J(p==null?void 0:p.strategy)}),v.jsxs("div",{ref:y,style:d,role:"tooltip","x-placement":w,className:_(t,e,`bs-tooltip-${m}`),...f,children:[v.jsx("div",{className:"tooltip-arrow",...i}),v.jsx("div",{className:`${e}-inner`,children:s})]})});Q.displayName="Tooltip";const Oe=Object.assign(Q,{TOOLTIP_OFFSET:[0,6]});function we(e){const o=r.useRef(null),t=P(void 0,"popover"),n=P(void 0,"tooltip"),s=r.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(o.current){if(U(o.current,t))return ye.POPPER_OFFSET;if(U(o.current,n))return Oe.TOOLTIP_OFFSET}return[0,0]}}}),[e,t,n]);return[o,[s]]}function Re(e,o){const{ref:t}=e,{ref:n}=o;e.ref=t.__wrapped||(t.__wrapped=s=>t(S(s))),o.ref=n.__wrapped||(n.__wrapped=s=>n(S(s)))}const X=r.forwardRef(({children:e,transition:o=I,popperConfig:t={},rootClose:n=!1,placement:s="top",show:i=!1,...l},p)=>{const u=r.useRef({}),[f,y]=r.useState(null),[O,w]=we(l.offset),m=B(p,O),d=o===!0?I:o||void 0,T=W(a=>{y(a),t==null||t.onFirstUpdate==null||t.onFirstUpdate(a)});return Z(()=>{f&&l.target&&(u.current.scheduleUpdate==null||u.current.scheduleUpdate())},[f,l.target]),r.useEffect(()=>{i||y(null)},[i]),v.jsx(he,{...l,ref:m,popperConfig:{...t,modifiers:w.concat(t.modifiers||[]),onFirstUpdate:T},transition:d,rootClose:n,placement:s,show:i,children:(a,{arrowProps:h,popper:c,show:x})=>{var C,k;Re(a,h);const R=c==null?void 0:c.placement,E=Object.assign(u.current,{state:c==null?void 0:c.state,scheduleUpdate:c==null?void 0:c.update,placement:R,outOfBoundaries:(c==null||(C=c.state)==null||(k=C.modifiersData.hide)==null?void 0:k.isReferenceHidden)||!1,strategy:t.strategy}),N=!!f;return typeof e=="function"?e({...a,placement:R,show:x,...!o&&x&&{className:"show"},popper:E,arrowProps:h,hasDoneInitialMeasure:N}):r.cloneElement(e,{...a,placement:R,arrowProps:h,popper:E,hasDoneInitialMeasure:N,className:_(e.props.className,!o&&x&&"show"),style:{...e.props.style,...a.style}})}})});X.displayName="Overlay";const Ee=X;function Te(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function L(e,o,t){const[n]=o,s=n.currentTarget,i=n.relatedTarget||n.nativeEvent[t];(!i||i!==s)&&!ee(s,i)&&e(...o)}te.oneOf(["click","hover","focus"]);const xe=({trigger:e=["hover","focus"],overlay:o,children:t,popperConfig:n={},show:s,defaultShow:i=!1,onToggle:l,delay:p,placement:u,flip:f=u&&u.indexOf("auto")!==-1,...y})=>{const O=r.useRef(null),w=B(O,t.ref),m=ne(),d=r.useRef(""),[T,a]=se(s,i,l),h=Te(p),{onFocus:c,onBlur:x,onClick:C}=typeof t!="function"?r.Children.only(t).props:{},k=g=>{w(S(g))},R=r.useCallback(()=>{if(m.clear(),d.current="show",!h.show){a(!0);return}m.set(()=>{d.current==="show"&&a(!0)},h.show)},[h.show,a,m]),E=r.useCallback(()=>{if(m.clear(),d.current="hide",!h.hide){a(!1);return}m.set(()=>{d.current==="hide"&&a(!1)},h.hide)},[h.hide,a,m]),N=r.useCallback((...g)=>{R(),c==null||c(...g)},[R,c]),b=r.useCallback((...g)=>{E(),x==null||x(...g)},[E,x]),j=r.useCallback((...g)=>{a(!T),C==null||C(...g)},[C,a,T]),$=r.useCallback((...g)=>{L(R,g,"fromElement")},[R]),Y=r.useCallback((...g)=>{L(E,g,"toElement")},[E]),D=e==null?[]:[].concat(e),F={ref:k};return D.indexOf("click")!==-1&&(F.onClick=j),D.indexOf("focus")!==-1&&(F.onFocus=N,F.onBlur=b),D.indexOf("hover")!==-1&&(F.onMouseOver=$,F.onMouseOut=Y),v.jsxs(v.Fragment,{children:[typeof t=="function"?t(F):r.cloneElement(t,F),v.jsx(Ee,{...y,show:T,onHide:E,flip:f,placement:u,popperConfig:n,target:O.current,children:o})]})},Ue=xe;export{Ue as O,ye as P,Oe as T};
