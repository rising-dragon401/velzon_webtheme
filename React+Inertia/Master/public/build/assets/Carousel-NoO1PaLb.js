import{a as Te,u as re}from"./useEventCallback-peGtB_2q.js";import{r as n,j as r}from"./app-zibdNuU4.js";import{u as $e}from"./useTimeout--wDUDHQZ.js";import{A as ae}from"./Anchor-rgX-jERb.js";import{u as K,c as k,d as we}from"./ThemeProvider-o6wCTw3b.js";import{u as De}from"./hook-rs4oiBak.js";import{f as Me,m as oe}from"./ElementChildren-5ISuLlsJ.js";import{a as Ae,T as Le,b as Oe}from"./TransitionWrapper-toSH0Pc1.js";function Xe(a,o){const d=n.useRef(!0);n.useEffect(()=>{if(d.current){d.current=!1;return}return a()},o)}const le=n.forwardRef(({className:a,bsPrefix:o,as:d="div",...R},y)=>(o=K(o,"carousel-caption"),r.jsx(d,{ref:y,className:k(a,o),...R})));le.displayName="CarouselCaption";const _e=le,ie=n.forwardRef(({as:a="div",bsPrefix:o,className:d,...R},y)=>{const p=k(d,K(o,"carousel-item"));return r.jsx(a,{ref:y,...R,className:p})});ie.displayName="CarouselItem";const He=ie,Pe=40;function Fe(a){if(!a||!a.style||!a.parentNode||!a.parentNode.style)return!1;const o=getComputedStyle(a);return o.display!=="none"&&o.visibility!=="hidden"&&getComputedStyle(a.parentNode).display!=="none"}const ce=n.forwardRef(({defaultActiveIndex:a=0,...o},d)=>{const{as:R="div",bsPrefix:y,slide:p=!0,fade:ue=!1,controls:de=!0,indicators:w=!0,indicatorLabels:D=[],activeIndex:f,onSelect:m,onSlide:E,onSlid:I,interval:S=5e3,keyboard:U=!0,onKeyDown:M,pause:C="hover",onMouseOver:A,onMouseOut:L,wrap:g=!0,touch:W=!0,onTouchStart:O,onTouchMove:X,onTouchEnd:_,prevIcon:fe=r.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:B="Previous",nextIcon:me=r.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:V="Next",variant:q,className:pe,children:H,...he}=De({defaultActiveIndex:a,...o},{activeIndex:"onSelect"}),c=K(y,"carousel"),x=we(),N=n.useRef(null),[z,G]=n.useState("next"),[ve,T]=n.useState(!1),[b,J]=n.useState(!1),[s,Ce]=n.useState(f||0);n.useEffect(()=>{!b&&f!==s&&(N.current?G(N.current):G((f||0)>s?"next":"prev"),p&&J(!0),Ce(f||0))},[f,b,s,p]),n.useEffect(()=>{N.current&&(N.current=null)});let h=0,Q;Me(H,(e,t)=>{++h,t===f&&(Q=e.props.interval)});const Y=Te(Q),l=n.useCallback(e=>{if(b)return;let t=s-1;if(t<0){if(!g)return;t=h-1}N.current="prev",m==null||m(t,e)},[b,s,m,g,h]),i=re(e=>{if(b)return;let t=s+1;if(t>=h){if(!g)return;t=0}N.current="next",m==null||m(t,e)}),P=n.useRef();n.useImperativeHandle(d,()=>({element:P.current,prev:l,next:i}));const Z=re(()=>{!document.hidden&&Fe(P.current)&&(x?l():i())}),v=z==="next"?"start":"end";Xe(()=>{p||(E==null||E(s,v),I==null||I(s,v))},[s]);const xe=`${c}-item-${z}`,Ne=`${c}-item-${v}`,be=n.useCallback(e=>{Ae(e),E==null||E(s,v)},[E,s,v]),Re=n.useCallback(()=>{J(!1),I==null||I(s,v)},[I,s,v]),ye=n.useCallback(e=>{if(U&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),x?i(e):l(e);return;case"ArrowRight":e.preventDefault(),x?l(e):i(e);return}M==null||M(e)},[U,M,l,i,x]),Ee=n.useCallback(e=>{C==="hover"&&T(!0),A==null||A(e)},[C,A]),Ie=n.useCallback(e=>{T(!1),L==null||L(e)},[L]),ee=n.useRef(0),$=n.useRef(0),ne=$e(),Se=n.useCallback(e=>{ee.current=e.touches[0].clientX,$.current=0,C==="hover"&&T(!0),O==null||O(e)},[C,O]),ge=n.useCallback(e=>{e.touches&&e.touches.length>1?$.current=0:$.current=e.touches[0].clientX-ee.current,X==null||X(e)},[X]),je=n.useCallback(e=>{if(W){const t=$.current;Math.abs(t)>Pe&&(t>0?l(e):i(e))}C==="hover"&&ne.set(()=>{T(!1)},S||void 0),_==null||_(e)},[W,C,l,i,ne,S,_]),te=S!=null&&!ve&&!b,F=n.useRef();n.useEffect(()=>{var e,t;if(!te)return;const u=x?l:i;return F.current=window.setInterval(document.visibilityState?Z:u,(e=(t=Y.current)!=null?t:S)!=null?e:void 0),()=>{F.current!==null&&clearInterval(F.current)}},[te,l,i,Y,S,Z,x]);const se=n.useMemo(()=>w&&Array.from({length:h},(e,t)=>u=>{m==null||m(t,u)}),[w,h,m]);return r.jsxs(R,{ref:P,...he,onKeyDown:ye,onMouseOver:Ee,onMouseOut:Ie,onTouchStart:Se,onTouchMove:ge,onTouchEnd:je,className:k(pe,c,p&&"slide",ue&&`${c}-fade`,q&&`${c}-${q}`),children:[w&&r.jsx("div",{className:`${c}-indicators`,children:oe(H,(e,t)=>r.jsx("button",{type:"button","data-bs-target":"","aria-label":D!=null&&D.length?D[t]:`Slide ${t+1}`,className:t===s?"active":void 0,onClick:se?se[t]:void 0,"aria-current":t===s},t))}),r.jsx("div",{className:`${c}-inner`,children:oe(H,(e,t)=>{const u=t===s;return p?r.jsx(Le,{in:u,onEnter:u?be:void 0,onEntered:u?Re:void 0,addEndListener:Oe,children:(j,ke)=>n.cloneElement(e,{...ke,className:k(e.props.className,u&&j!=="entered"&&xe,(j==="entered"||j==="exiting")&&"active",(j==="entering"||j==="exiting")&&Ne)})}):n.cloneElement(e,{className:k(e.props.className,u&&"active")})})}),de&&r.jsxs(r.Fragment,{children:[(g||f!==0)&&r.jsxs(ae,{className:`${c}-control-prev`,onClick:l,children:[fe,B&&r.jsx("span",{className:"visually-hidden",children:B})]}),(g||f!==h-1)&&r.jsxs(ae,{className:`${c}-control-next`,onClick:i,children:[me,V&&r.jsx("span",{className:"visually-hidden",children:V})]})]})]})});ce.displayName="Carousel";const Je=Object.assign(ce,{Caption:_e,Item:He});export{Je as C};
