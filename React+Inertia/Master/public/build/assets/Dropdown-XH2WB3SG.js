import{u as O,c as A,d as we}from"./ThemeProvider-o6wCTw3b.js";import{r as a,j as x}from"./app-zibdNuU4.js";import{q as G}from"./querySelectorAll-yJiweK8j.js";import{a as he}from"./listen-7k9MjBk5.js";import{$ as xe,u as ve}from"./import-5VRc_sFL.js";import{u as ye}from"./usePrevious-c5DQrsQW.js";import{u as be}from"./useForceUpdate-NB0DO_uR.js";import{u as _}from"./useEventCallback-peGtB_2q.js";import{u as Ce}from"./useCallbackRef-n5NLEA_u.js";import{u as De,m as $e,a as Ee}from"./mergeOptionsWithPopperConfig-1ZUyq5Ue.js";import{S as U,N as ke,m as q}from"./NavContext-skr4YNGQ.js";import{B as Ne}from"./Button-WGDF66wU.js";import{d as J}from"./DataKey-rVRe1FkT.js";import{u as je,a as Ie}from"./useWindow-W1McY3LT.js";import{u as Pe}from"./hook-rs4oiBak.js";import{A as Te}from"./Anchor-rgX-jERb.js";import{u as Q}from"./useMergedRefs-tGZzLewq.js";import{I as X}from"./InputGroupContext-OgYl-hUH.js";import{N as Re}from"./NavbarContext-hqye3rRB.js";import{B as Se}from"./Button-abcobHcU.js";function Me(o,e,t,r=!1){const n=_(t);a.useEffect(()=>{const s=typeof o=="function"?o():o;return s.addEventListener(e,n,r),()=>s.removeEventListener(e,n,r)},[o])}const Oe=a.createContext(null),W=Oe,Ae=["children"];function _e(o,e){if(o==null)return{};var t={},r=Object.keys(o),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}const Fe=()=>{};function Y(o={}){const e=a.useContext(W),[t,r]=Ce(),n=a.useRef(!1),{flip:s,offset:u,rootCloseEvent:i,fixed:p=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:v=!!e}=o,g=(e==null?void 0:e.show)==null?!!o.show:e.show;g&&!n.current&&(n.current=!0);const $=S=>{e==null||e.toggle(!1,S)},{placement:E,setMenu:C,menuElement:I,toggleElement:k}=e||{},w=De(k,I,$e({placement:l||E||"bottom-start",enabled:v,enableEvents:c??g,offset:u,flip:s,fixed:p,arrowElement:t,popperConfig:m})),P=Object.assign({ref:C||Fe,"aria-labelledby":k==null?void 0:k.id},w.attributes.popper,{style:w.styles.popper}),y={show:g,placement:E,hasShown:n.current,toggle:e==null?void 0:e.toggle,popper:v?w:null,arrowProps:v?Object.assign({ref:r},w.attributes.arrow,{style:w.styles.arrow}):{}};return Ee(I,$,{clickTrigger:i,disabled:!g}),[P,y]}const We={usePopper:!0};function B(o){let{children:e}=o,t=_e(o,Ae);const[r,n]=Y(t);return x.jsx(x.Fragment,{children:e(r,n)})}B.displayName="DropdownMenu";B.defaultProps=We;const Z=o=>{var e;return((e=o.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},V=()=>{};function ee(){const o=xe(),{show:e=!1,toggle:t=V,setToggle:r,menuElement:n}=a.useContext(W)||{},s=a.useCallback(i=>{t(!e,i)},[e,t]),u={id:o,ref:r||V,onClick:s,"aria-expanded":!!e};return n&&Z(n)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function te({children:o}){const[e,t]=ee();return x.jsx(x.Fragment,{children:o(e,t)})}te.displayName="DropdownToggle";const Ke=["eventKey","disabled","onClick","active","as"];function Ue(o,e){if(o==null)return{};var t={},r=Object.keys(o),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}function oe({key:o,href:e,active:t,disabled:r,onClick:n}){const s=a.useContext(U),u=a.useContext(ke),{activeKey:i}=u||{},p=q(o,e),l=t==null&&o!=null?q(i)===p:t;return[{onClick:_(c=>{r||(n==null||n(c),s&&!c.isPropagationStopped()&&s(p,c))}),"aria-disabled":r||void 0,"aria-selected":l,[J("dropdown-item")]:""},{isActive:l}]}const ne=a.forwardRef((o,e)=>{let{eventKey:t,disabled:r,onClick:n,active:s,as:u=Ne}=o,i=Ue(o,Ke);const[p]=oe({key:t,href:i.href,disabled:r,onClick:n,active:s});return x.jsx(u,Object.assign({},i,{ref:e},p))});ne.displayName="DropdownItem";function z(){const o=be(),e=a.useRef(null),t=a.useCallback(r=>{e.current=r,o()},[o]);return[e,t]}function F({defaultShow:o,show:e,onSelect:t,onToggle:r,itemSelector:n=`* [${J("dropdown-item")}]`,focusFirstItemOnShow:s,placement:u="bottom-start",children:i}){const p=je(),[l,m]=ve(e,o,r),[c,v]=z(),g=c.current,[$,E]=z(),C=$.current,I=ye(l),k=a.useRef(null),w=a.useRef(!1),P=a.useContext(U),y=a.useCallback((d,f,b=f==null?void 0:f.type)=>{m(d,{originalEvent:f,source:b})},[m]),S=_((d,f)=>{t==null||t(d,f),y(!1,f,"select"),f.isPropagationStopped()||P==null||P(d,f)}),D=a.useMemo(()=>({toggle:y,placement:u,show:l,menuElement:g,toggleElement:C,setMenu:v,setToggle:E}),[y,u,l,g,C,v,E]);g&&I&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const h=_(()=>{C&&C.focus&&C.focus()}),T=_(()=>{const d=k.current;let f=s;if(f==null&&(f=c.current&&Z(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(d))return;const b=G(c.current,n)[0];b&&b.focus&&b.focus()});a.useEffect(()=>{l?T():w.current&&(w.current=!1,h())},[l,w,h,T]),a.useEffect(()=>{k.current=null});const R=(d,f)=>{if(!c.current)return null;const b=G(c.current,n);let j=b.indexOf(d)+f;return j=Math.max(0,Math.min(j,b.length)),b[j]};return Me(a.useCallback(()=>p.document,[p]),"keydown",d=>{var f,b;const{key:j}=d,M=d.target,L=(f=c.current)==null?void 0:f.contains(M),ge=(b=$.current)==null?void 0:b.contains(M);if(/input|textarea/i.test(M.tagName)&&(j===" "||j!=="Escape"&&L||j==="Escape"&&M.type==="search")||!L&&!ge||j==="Tab"&&(!c.current||!l))return;k.current=d.type;const K={originalEvent:d,source:d.type};switch(j){case"ArrowUp":{const N=R(M,-1);N&&N.focus&&N.focus(),d.preventDefault();return}case"ArrowDown":if(d.preventDefault(),!l)m(!0,K);else{const N=R(M,1);N&&N.focus&&N.focus()}return;case"Tab":he(M.ownerDocument,"keyup",N=>{var H;(N.key==="Tab"&&!N.target||!((H=c.current)!=null&&H.contains(N.target)))&&m(!1,K)},{once:!0});break;case"Escape":j==="Escape"&&(d.preventDefault(),d.stopPropagation()),m(!1,K);break}}),x.jsx(U.Provider,{value:S,children:x.jsx(W.Provider,{value:D,children:i})})}F.displayName="Dropdown";F.Menu=B;F.Toggle=te;F.Item=ne;const re=a.createContext({});re.displayName="DropdownContext";const se=re,ae=a.forwardRef(({className:o,bsPrefix:e,as:t="hr",role:r="separator",...n},s)=>(e=O(e,"dropdown-divider"),x.jsx(t,{ref:s,className:A(o,e),role:r,...n})));ae.displayName="DropdownDivider";const Be=ae,ce=a.forwardRef(({className:o,bsPrefix:e,as:t="div",role:r="heading",...n},s)=>(e=O(e,"dropdown-header"),x.jsx(t,{ref:s,className:A(o,e),role:r,...n})));ce.displayName="DropdownHeader";const Le=ce,le=a.forwardRef(({bsPrefix:o,className:e,eventKey:t,disabled:r=!1,onClick:n,active:s,as:u=Te,...i},p)=>{const l=O(o,"dropdown-item"),[m,c]=oe({key:t,href:i.href,disabled:r,onClick:n,active:s});return x.jsx(u,{...i,...m,ref:p,className:A(e,l,c.isActive&&"active",r&&"disabled")})});le.displayName="DropdownItem";const He=le,ue=a.forwardRef(({className:o,bsPrefix:e,as:t="span",...r},n)=>(e=O(e,"dropdown-item-text"),x.jsx(t,{ref:n,className:A(o,e),...r})));ue.displayName="DropdownItemText";const Ge=ue;function ie(o,e){return o}function de(o,e,t){const r=t?"top-end":"top-start",n=t?"top-start":"top-end",s=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",i=t?"right-start":"left-start",p=t?"right-end":"left-end",l=t?"left-start":"right-start",m=t?"left-end":"right-end";let c=o?u:s;return e==="up"?c=o?n:r:e==="end"?c=o?m:l:e==="start"?c=o?p:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const pe=a.forwardRef(({bsPrefix:o,className:e,align:t,rootCloseEvent:r,flip:n=!0,show:s,renderOnMount:u,as:i="div",popperConfig:p,variant:l,...m},c)=>{let v=!1;const g=a.useContext(Re),$=O(o,"dropdown-menu"),{align:E,drop:C,isRTL:I}=a.useContext(se);t=t||E;const k=a.useContext(X),w=[];if(t)if(typeof t=="object"){const d=Object.keys(t);if(d.length){const f=d[0],b=t[f];v=b==="start",w.push(`${$}-${f}-${b}`)}}else t==="end"&&(v=!0);const P=de(v,C,I),[y,{hasShown:S,popper:D,show:h,toggle:T}]=Y({flip:n,rootCloseEvent:r,show:s,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:p,placement:P});if(y.ref=Q(ie(c),y.ref),Ie(()=>{h&&(D==null||D.update())},[h]),!S&&!u&&!k)return null;typeof i!="string"&&(y.show=h,y.close=()=>T==null?void 0:T(!1),y.align=t);let R=m.style;return D!=null&&D.placement&&(R={...m.style,...y.style},m["x-placement"]=D.placement),x.jsx(i,{...m,...y,style:R,...(w.length||g)&&{"data-bs-popper":"static"},className:A(e,$,h&&"show",v&&`${$}-end`,l&&`${$}-${l}`,...w)})});pe.displayName="DropdownMenu";const qe=pe,fe=a.forwardRef(({bsPrefix:o,split:e,className:t,childBsPrefix:r,as:n=Se,...s},u)=>{const i=O(o,"dropdown-toggle"),p=a.useContext(W);r!==void 0&&(s.bsPrefix=r);const[l]=ee();return l.ref=Q(l.ref,ie(u)),x.jsx(n,{className:A(t,i,e&&`${i}-split`,(p==null?void 0:p.show)&&"show"),...l,...s})});fe.displayName="DropdownToggle";const Ve=fe,me=a.forwardRef((o,e)=>{const{bsPrefix:t,drop:r="down",show:n,className:s,align:u="start",onSelect:i,onToggle:p,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:v=!0,...g}=Pe(o,{show:"onToggle"}),$=a.useContext(X),E=O(t,"dropdown"),C=we(),I=D=>v===!1?D==="click":v==="inside"?D!=="rootClose":v==="outside"?D!=="select":!0,k=_((D,h)=>{var T,R;!((T=h.originalEvent)==null||(R=T.target)==null)&&R.classList.contains("dropdown-toggle")&&h.source==="mousedown"||(h.originalEvent.currentTarget===document&&(h.source!=="keydown"||h.originalEvent.key==="Escape")&&(h.source="rootClose"),I(h.source)&&(p==null||p(D,h)))}),P=de(u==="end",r,C),y=a.useMemo(()=>({align:u,drop:r,isRTL:C}),[u,r,C]),S={down:E,"down-centered":`${E}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return x.jsx(se.Provider,{value:y,children:x.jsx(F,{placement:P,show:n,onSelect:i,onToggle:k,focusFirstItemOnShow:l,itemSelector:`.${E}-item:not(.disabled):not(:disabled)`,children:$?g.children:x.jsx(m,{...g,ref:e,className:A(s,n&&"show",S[r])})})})});me.displayName="Dropdown";const gt=Object.assign(me,{Toggle:Ve,Menu:qe,Item:He,ItemText:Ge,Divider:Be,Header:Le});export{gt as D};
