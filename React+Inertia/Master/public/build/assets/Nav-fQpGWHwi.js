import{q as D}from"./querySelectorAll-yJiweK8j.js";import{r as s,j as p}from"./app-zibdNuU4.js";import{u as O}from"./useForceUpdate-NB0DO_uR.js";import{u as T}from"./useMergedRefs-tGZzLewq.js";import{S as N,N as k,m as q}from"./NavContext-skr4YNGQ.js";import{N as P,T as L}from"./NavItem-a0MtMYqK.js";import{d as U,a as _}from"./DataKey-rVRe1FkT.js";const B=["as","onSelect","activeKey","role","onKeyDown"];function $(n,f){if(n==null)return{};var i={},a=Object.keys(n),o,r;for(r=0;r<a.length;r++)o=a[r],!(f.indexOf(o)>=0)&&(i[o]=n[o]);return i}const w=()=>{},R=U("event-key"),j=s.forwardRef((n,f)=>{let{as:i="div",onSelect:a,activeKey:o,role:r,onKeyDown:x}=n,E=$(n,B);const I=O(),v=s.useRef(!1),g=s.useContext(N),l=s.useContext(L);let y,C;l&&(r=r||"tablist",o=l.activeKey,y=l.getControlledId,C=l.getControllerId);const u=s.useRef(null),h=e=>{const t=u.current;if(!t)return null;const d=D(t,`[${R}]:not([aria-disabled=true])`),m=t.querySelector("[aria-selected=true]");if(!m||m!==document.activeElement)return null;const K=d.indexOf(m);if(K===-1)return null;let c=K+e;return c>=d.length&&(c=0),c<0&&(c=d.length-1),d[c]},b=(e,t)=>{e!=null&&(a==null||a(e,t),g==null||g(e,t))},A=e=>{if(x==null||x(e),!l)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=h(-1);break;case"ArrowRight":case"ArrowDown":t=h(1);break;default:return}t&&(e.preventDefault(),b(t.dataset[_("EventKey")]||null,e),v.current=!0,I())};s.useEffect(()=>{if(u.current&&v.current){const e=u.current.querySelector(`[${R}][aria-selected=true]`);e==null||e.focus()}v.current=!1});const S=T(f,u);return p.jsx(N.Provider,{value:b,children:p.jsx(k.Provider,{value:{role:r,activeKey:q(o),getControlledId:y||w,getControllerId:C||w},children:p.jsx(i,Object.assign({},E,{onKeyDown:A,ref:S,role:r}))})})});j.displayName="Nav";const H=Object.assign(j,{Item:P});export{H as B};
