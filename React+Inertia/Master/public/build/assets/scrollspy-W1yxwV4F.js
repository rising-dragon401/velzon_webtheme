import{u as U,c as F,e as z}from"./ThemeProvider-o6wCTw3b.js";import{r as P,j as N,f as g}from"./app-zibdNuU4.js";import{u as W}from"./useEventCallback-peGtB_2q.js";import{N as L}from"./NavbarContext-hqye3rRB.js";import{d as G,t as J,i as K,r as Q}from"./extends-YwiYVVnt.js";import{c as X,d as Y}from"./createClass-4GYF5Kea.js";import{p as Z}from"./index-D3UJIRWV.js";const A=P.forwardRef(({bsPrefix:t,className:n,children:o,label:e="Toggle navigation",as:s="button",onClick:r,...a},i)=>{t=U(t,"navbar-toggler");const{onToggle:l,expanded:d}=P.useContext(L)||{},v=W(u=>{r&&r(u),l&&l()});return s==="button"&&(a.type="button"),N.jsx(s,{...a,ref:i,onClick:v,"aria-label":e,className:F(n,t,!d&&"collapsed"),children:o||N.jsx("span",{className:`${t}-icon`})})});A.displayName="NavbarToggle";const Ne=A;var q={},D={exports:{}};(function(t){function n(o){return o&&o.__esModule?o:{default:o}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(D);var ee=D.exports;const te=g(G),re=g(J),oe=g(X);var T={exports:{}},E={exports:{}},C;function se(){return C||(C=1,function(t){function n(o){"@babel/helpers - typeof";return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(E)),E.exports}var b={exports:{}},k;function H(){return k||(k=1,function(t){function n(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(b)),b.exports}var R;function ae(){return R||(R=1,function(t){var n=se().default,o=H();function e(s,r){if(r&&(n(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o(s)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(T)),T.exports}var w={exports:{}},I;function ne(){return I||(I=1,function(t){function n(o){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(w)),w.exports}const ie=g(Y),le=g(K);var m={},O;function ue(){if(O)return m;O=1,Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var t=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,r,a;return function(){var i=+new Date,l=!!r&&i<r+s;l?(clearTimeout(a),a=setTimeout(function(){r=i,e()},s)):(r=i,e())}},n=t;return m.default=n,m}var p=ee;Object.defineProperty(q,"__esModule",{value:!0});var pe=q.default=void 0,ce=p(Q()),S=p(te),fe=p(re),de=p(oe),ve=p(ae()),he=p(ne()),ye=p(H()),V=p(ie),_e=p(le),f=p(Z),x=p(P),$=p(z),me=p(ue());function ge(t,n){return t.length===n.length&&t.every(function(o,e){return o===n[e]})}var Se=function(t){(0,_e.default)(n,t),(0,V.default)(n,null,[{key:"propTypes",get:function(){return{items:f.default.arrayOf(f.default.string).isRequired,currentClassName:f.default.string.isRequired,scrolledPastClassName:f.default.string,style:f.default.object,componentTag:f.default.oneOfType([f.default.string,f.default.elementType]),offset:f.default.number,rootEl:f.default.string,onUpdate:f.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]);function n(o){var e;return(0,de.default)(this,n),e=(0,ve.default)(this,(0,he.default)(n).call(this,o)),e.state={targetItems:[],inViewState:[],isScrolledPast:[]},e._handleSpy=e._handleSpy.bind((0,ye.default)(e)),e}return(0,V.default)(n,[{key:"_initSpyTarget",value:function(e){var s=e.map(function(r){return document.getElementById(r)});return s}},{key:"_fillArray",value:function(e,s){for(var r=[],a=0,i=e.length;a<i;a++)r[a]=s;return r}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var e=document,s=this.props.rootEl,r=s?e.querySelector(s).scrollTop:e.documentElement.scrollTop||e.body.parentNode.scrollTop||e.body.scrollTop,a=s?e.querySelector(s).scrollHeight:e.documentElement.scrollHeight||e.body.parentNode.scrollHeight||e.body.scrollHeight;return{scrollTop:r,scrollHeight:a}}},{key:"_getElemsViewState",value:function(e){for(var s=[],r=[],a=[],i=e||this.state.targetItems,l=!1,d=0,v=i.length;d<v;d++){var u=i[d],h=l?!1:this._isInView(u);h?(l=!0,s.push(u)):r.push(u);var c=d===v-1,_=this._isScrolled(),y=this._isAtBottom()&&this._isInView(u)&&!h&&c&&_;y&&(r.pop(),r.push.apply(r,(0,fe.default)(s)),s=[u],a=this._fillArray(a,!1),h=!0),a.push(h)}return{inView:s,outView:r,viewStatusList:a,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(a)}}},{key:"_isInView",value:function(e){if(!e)return!1;var s=this.props,r=s.rootEl,a=s.offset,i;r&&(i=document.querySelector(r).getBoundingClientRect());var l=e.getBoundingClientRect(),d=r?i.height:window.innerHeight,v=this._getScrollDimension(),u=v.scrollTop,h=u+d,c=r?l.top+u-i.top+a:l.top+u+a,_=c+e.offsetHeight;return c<h&&_>u}},{key:"_isAtBottom",value:function(){var e=this.props.rootEl,s=this._getScrollDimension(),r=s.scrollTop,a=s.scrollHeight,i=e?document.querySelector(e).getBoundingClientRect().height:window.innerHeight,l=r+i>=a;return l}},{key:"_getScrolledPast",value:function(e){if(!e.some(function(a){return a}))return e;var s=!1,r=e.map(function(a){return a&&!s?(s=!0,!1):!s});return r}},{key:"_spy",value:function(e){var s=this,r=this._getElemsViewState(e),a=this.state.inViewState;this.setState({inViewState:r.viewStatusList,isScrolledPast:r.scrolledPast},function(){s._update(a)})}},{key:"_update",value:function(e){ge(this.state.inViewState,e)||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,me.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var e=this._initSpyTarget(this.props.items);this.setState({targetItems:e}),this._spy(e)}},{key:"offEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var e=this,s=this.props.componentTag,r=this.props,a=r.children,i=r.className,l=r.scrolledPastClassName,d=r.style,v=0,u=x.default.Children.map(a,function(c,_){var y;if(!c)return null;var M=c.type,B=l&&e.state.isScrolledPast[_],j=(0,$.default)((y={},(0,S.default)(y,"".concat(c.props.className),c.props.className),(0,S.default)(y,"".concat(e.props.currentClassName),e.state.inViewState[_]),(0,S.default)(y,"".concat(e.props.scrolledPastClassName),B),y));return x.default.createElement(M,(0,ce.default)({},c.props,{className:j,key:v++}),c.props.children)}),h=(0,$.default)((0,S.default)({},"".concat(i),i));return x.default.createElement(s,{className:h,style:d},u)}}]),n}(x.default.Component);pe=q.default=Se;export{Ne as N,pe as _};
