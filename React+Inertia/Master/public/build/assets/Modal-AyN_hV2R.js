import{u as m,c as d,d as Ce}from"./ThemeProvider-o6wCTw3b.js";import{c as _,r as L,a as Ee,o as Be}from"./listen-7k9MjBk5.js";import{u as ke}from"./useCallbackRef-n5NLEA_u.js";import{u as W}from"./useEventCallback-peGtB_2q.js";import{u as Ae}from"./useMergedRefs-tGZzLewq.js";import{u as De}from"./useWillUnmount-0hmT5CmW.js";import{t as Fe}from"./TransitionWrapper-toSH0Pc1.js";import{r as o,j as n}from"./app-zibdNuU4.js";import{A as Oe,M as Ie,B as He,g as xe}from"./AbstractModalHeader-71ys6BFC.js";import{F as K}from"./Fade-0ChXstfx.js";import{d as Ue}from"./divWithClassName-8nc4dY2_.js";var y;function z(e){if((!y&&y!==0||e)&&_){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),y=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return y}const q=o.forwardRef(({className:e,bsPrefix:a,as:l="div",...s},r)=>(a=m(a,"modal-body"),n.jsx(l,{ref:r,className:d(e,a),...s})));q.displayName="ModalBody";const be=q,G=o.forwardRef(({bsPrefix:e,className:a,contentClassName:l,centered:s,size:r,fullscreen:i,children:w,scrollable:R,...v},N)=>{e=m(e,"modal");const f=`${e}-dialog`,c=typeof i=="string"?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return n.jsx("div",{...v,ref:N,className:d(f,a,r&&`${e}-${r}`,s&&`${f}-centered`,R&&`${f}-scrollable`,i&&c),children:n.jsx("div",{className:d(`${e}-content`,l),children:w})})});G.displayName="ModalDialog";const J=G,Q=o.forwardRef(({className:e,bsPrefix:a,as:l="div",...s},r)=>(a=m(a,"modal-footer"),n.jsx(l,{ref:r,className:d(e,a),...s})));Q.displayName="ModalFooter";const Le=Q,V=o.forwardRef(({bsPrefix:e,className:a,closeLabel:l="Close",closeButton:s=!1,...r},i)=>(e=m(e,"modal-header"),n.jsx(Oe,{ref:i,...r,className:d(a,e),closeLabel:l,closeButton:s})));V.displayName="ModalHeader";const We=V,ze=Ue("h4"),X=o.forwardRef(({className:e,bsPrefix:a,as:l=ze,...s},r)=>(a=m(a,"modal-title"),n.jsx(l,{ref:r,className:d(e,a),...s})));X.displayName="ModalTitle";const _e=X;function Ke(e){return n.jsx(K,{...e,timeout:null})}function qe(e){return n.jsx(K,{...e,timeout:null})}const Y=o.forwardRef(({bsPrefix:e,className:a,style:l,dialogClassName:s,contentClassName:r,children:i,dialogAs:w=J,"aria-labelledby":R,"aria-describedby":v,"aria-label":N,show:f=!1,animation:c=!0,backdrop:M=!0,keyboard:Z=!0,onEscapeKeyDown:j,onShow:P,onHide:h,container:ee,autoFocus:te=!0,enforceFocus:ae=!0,restoreFocus:oe=!0,restoreFocusOptions:ne,onEntered:re,onExit:C,onExiting:le,onEnter:E,onEntering:B,onExited:k,backdropClassName:A,manager:D,...se},de)=>{const[ie,ce]=o.useState({}),[ue,F]=o.useState(!1),S=o.useRef(!1),T=o.useRef(!1),g=o.useRef(null),[p,me]=ke(),fe=Ae(de,me),O=W(h),ge=Ce();e=m(e,"modal");const pe=o.useMemo(()=>({onHide:O}),[O]);function I(){return D||xe({isRTL:ge})}function H(t){if(!_)return;const u=I().getScrollbarWidth()>0,b=t.scrollHeight>Be(t).documentElement.clientHeight;ce({paddingRight:u&&!b?z():void 0,paddingLeft:!u&&b?z():void 0})}const $=W(()=>{p&&H(p.dialog)});De(()=>{L(window,"resize",$),g.current==null||g.current()});const Me=()=>{S.current=!0},he=t=>{S.current&&p&&t.target===p.dialog&&(T.current=!0),S.current=!1},x=()=>{F(!0),g.current=Fe(p.dialog,()=>{F(!1)})},ye=t=>{t.target===t.currentTarget&&x()},we=t=>{if(M==="static"){ye(t);return}if(T.current||t.target!==t.currentTarget){T.current=!1;return}h==null||h()},Re=t=>{Z?j==null||j(t):(t.preventDefault(),M==="static"&&x())},ve=(t,u)=>{t&&H(t),E==null||E(t,u)},Ne=t=>{g.current==null||g.current(),C==null||C(t)},Se=(t,u)=>{B==null||B(t,u),Ee(window,"resize",$)},Te=t=>{t&&(t.style.display=""),k==null||k(t),L(window,"resize",$)},$e=o.useCallback(t=>n.jsx("div",{...t,className:d(`${e}-backdrop`,A,!c&&"show")}),[c,A,e]),U={...l,...ie};U.display="block";const je=t=>n.jsx("div",{role:"dialog",...t,style:U,className:d(a,e,ue&&`${e}-static`,!c&&"show"),onClick:M?we:void 0,onMouseUp:he,"aria-label":N,"aria-labelledby":R,"aria-describedby":v,children:n.jsx(w,{...se,onMouseDown:Me,className:s,contentClassName:r,children:i})});return n.jsx(Ie.Provider,{value:pe,children:n.jsx(He,{show:f,ref:fe,backdrop:M,container:ee,keyboard:!0,autoFocus:te,enforceFocus:ae,restoreFocus:oe,restoreFocusOptions:ne,onEscapeKeyDown:Re,onShow:P,onHide:h,onEnter:ve,onEntering:Se,onEntered:re,onExit:Ne,onExiting:le,onExited:Te,manager:I(),transition:c?Ke:void 0,backdropTransition:c?qe:void 0,renderBackdrop:$e,renderDialog:je})})});Y.displayName="Modal";const ot=Object.assign(Y,{Body:be,Header:We,Title:_e,Footer:Le,Dialog:J,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{ot as M};
