import{r as l,x as G,W as H,j as e,d as z,R as U,b as W}from"./app-zibdNuU4.js";import{B as q}from"./BreadCrumb-91YYkV91.js";import{T as Q}from"./TableContainer-vztljswv.js";import{D as J}from"./DeleteModal-0bhoyxG1.js";import{l as X}from"./lodash-pa3Ny5xf.js";import{E as Y}from"./ExportCSVModal-I9wxZVtj.js";import{c as x}from"./ThemeProvider-o6wCTw3b.js";import{Q as A,k as Z}from"./ReactToastify-DT00DqL2.js";import{L as $}from"./index-zeQ59Srh.js";import"./calender-oDmisTvu.js";import{d}from"./ecommerce-bNHbXOXq.js";import{B as N}from"./Button-abcobHcU.js";import{C as ee}from"./Container-BiQam0Lm.js";import{R as C}from"./Row-iCelYJIn.js";import{C as k}from"./Col-Ta-DAaSs.js";import{C as _}from"./Card-DDcPyCl6.js";import{T as te}from"./Tab-Ab-x_56i.js";import{N as i}from"./Nav-dApn-YfT.js";import{M as S}from"./Modal-AyN_hV2R.js";import{F as s}from"./Form-y4TfPDBq.js";import"./index-RAZE16Uj.js";import"./index-ZZJjVfHc.js";import"./index-D3UJIRWV.js";import"./react-select.esm-pZ9nD8Wa.js";import"./extends-YwiYVVnt.js";import"./createClass-4GYF5Kea.js";import"./setPrototypeOf-ahVgEFUp.js";import"./useMergedRefs-tGZzLewq.js";import"./extends-dGVwEr9R.js";import"./hoist-non-react-statics.cjs-BroT11J1.js";import"./Dropdown-XH2WB3SG.js";import"./querySelectorAll-yJiweK8j.js";import"./listen-7k9MjBk5.js";import"./import-5VRc_sFL.js";import"./usePrevious-c5DQrsQW.js";import"./useForceUpdate-NB0DO_uR.js";import"./useEventCallback-peGtB_2q.js";import"./useCallbackRef-n5NLEA_u.js";import"./mergeOptionsWithPopperConfig-1ZUyq5Ue.js";import"./useMounted-pkXxvOvB.js";import"./useWindow-W1McY3LT.js";import"./NavContext-skr4YNGQ.js";import"./Button-WGDF66wU.js";import"./DataKey-rVRe1FkT.js";import"./hook-rs4oiBak.js";import"./Anchor-rgX-jERb.js";import"./InputGroupContext-OgYl-hUH.js";import"./NavbarContext-hqye3rRB.js";import"./Table-qiJHp2HB.js";import"./logo-sm-Y3NUUhw5.js";import"./logo-dark-ySeFd3Ox.js";import"./logo-light-K-Vb_kX9.js";import"./index-VGDmuYBL.js";import"./isObject-_AJSPBJx.js";import"./avatar-2-5h57hFen.js";import"./avatar-3-3TbFqpdQ.js";import"./avatar-5-5Vkrx5vC.js";import"./russia-59na-oYI.js";import"./bitbucket-8aguTqZI.js";import"./dropbox-vdKVH9SY.js";import"./slack-wdpR1q0P.js";import"./img-1-8HOgBOll.js";import"./img-2-21TtgWvP.js";import"./img-3-Weoh5rVl.js";import"./img-6-FnhxsFLE.js";import"./img-5-clZKQOHB.js";import"./avatar-1-haSxJhOJ.js";import"./avatar-8-twQAUXGl.js";import"./avatar-6-_TQm8pNs.js";import"./NavLink-Ji2SR3_B.js";import"./NavItem-a0MtMYqK.js";import"./Collapse--IKkzqQF.js";import"./TransitionWrapper-toSH0Pc1.js";import"./Offcanvas-AFa7QsZc.js";import"./AbstractModalHeader-71ys6BFC.js";import"./useWillUnmount-0hmT5CmW.js";import"./hasClass-L5d4f6QE.js";import"./NoopTransition-i5WgIcEw.js";import"./CloseButton-K1fVZstf.js";import"./Fade-0ChXstfx.js";import"./divWithClassName-8nc4dY2_.js";import"./ltc-1lmCStrY.js";import"./dash-CNyiaMa3.js";import"./img-1-O6bbFvKB.js";import"./img-2-TmWi1535.js";import"./img-3-cOoLP6aC.js";import"./img-6-NJgHUnVB.js";import"./img-4-FiXCLqv6.js";import"./img-8-B9ooo2lf.js";import"./img-10-0ZQIA_1Y.js";import"./img-10-pwg4QmXC.js";import"./img-12-uYjB2iK6.js";import"./img-5-GjIFhtwk.js";import"./img-2-nfZgkd8-.js";import"./img-3-CHu7XSNx.js";import"./img-4-b9R4g7s3.js";import"./img-6-mm5RjbBl.js";import"./img-7-oeIW5Oza.js";import"./img-8-woIg2CYj.js";import"./CardHeaderContext-ldbfLNlA.js";import"./Nav-fQpGWHwi.js";import"./ElementChildren-5ISuLlsJ.js";const re=o=>{const[v,p]=l.useState(!1),[a,F]=l.useState([]),{flash:n}=G().props,j=l.useCallback(()=>{v?(p(!1),F(null)):p(!0)},[v]),{data:c,setData:m,post:b,processing:se,errors:ae,reset:P}=H({id:"",order_id:"",customer_name:"",product:"",amount:"",payment_method:"",delivery_status:""});l.useState({order_id:a?a.order_id:"",customer_name:a?a.customer_name:"",product:a?a.product:"",amount:a?a.amount:"",payment_method:a?a.payment_method:"",delivery_status:a?a.delivery_status:""});function O(t){t.preventDefault();const r=c;f?(a&&a.id,r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-update",{preserveScroll:!0,onSuccess:()=>{p(!1),P()}})):((Math.floor(Math.random()*10)+20).toString(),r.order_id,r.customer_name,r.product,r.amount,r.payment_method,r.delivery_status,b("order-create",{preserveScroll:!0,onSuccess:()=>{p(!1),P()}}))}const L=l.useCallback(t=>{m({...t}),D(!0),j()},[j]),I=t=>{F(t),y(!0),c.id=t.id},M=()=>{b("order-delete",{preserveScroll:!0,onSuccess:()=>{y(!1)}})},[f,D]=l.useState(!1),[le,g]=l.useState([]),[u,T]=l.useState("1"),[V,y]=l.useState(!1);l.useEffect(()=>{g(d)},[d]),l.useEffect(()=>{X.isEmpty(d)||g(d)},[d]);const h=(t,r)=>{if(u!==t){T(t);let E=d;r!=="all"&&(E=d.filter(R=>R.status===r)),g(E)}},B=l.useMemo(()=>[{header:"Order Id",accessorKey:"order_id",enableColumnFilter:!1,cell:t=>e.jsx(z,{href:"/apps-ecommerce-order-details",className:"fw-medium link-primary",children:t.getValue()})},{header:"Customer",accessorKey:"customer_name",enableColumnFilter:!1},{header:"Product",accessorKey:"product",enableColumnFilter:!1},{header:"Amount",accessorKey:"amount",enableColumnFilter:!1},{header:"Payment Method",accessorKey:"payment_method",enableColumnFilter:!1},{header:"Delivery Status",accessorKey:"delivery_status",enableColumnFilter:!1,cell:t=>{switch(t.getValue()){case"Pending":return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]});case"Cancelled":return e.jsxs("span",{className:"badge text-uppercase bg-danger-subtle text-danger",children:[" ",t.getValue()," "]});case"Inprogress":return e.jsxs("span",{className:"badge text-uppercase bg-secondary-subtle text-secondary",children:[" ",t.getValue()," "]});case"Pickups":return e.jsxs("span",{className:"badge text-uppercase bg-info-subtle text-info",children:[" ",t.getValue()," "]});case"Returns":return e.jsxs("span",{className:"badge text-uppercase bg-primary-subtle text-primary",children:[" ",t.getValue()," "]});case"Delivered":return e.jsxs("span",{className:"badge text-uppercase bg-success-subtle text-success",children:[" ",t.getValue()," "]});default:return e.jsxs("span",{className:"badge text-uppercase bg-warning-subtle text-warning",children:[" ",t.getValue()," "]})}}},{header:"Action",cell:t=>e.jsxs("ul",{className:"list-inline hstack gap-2 mb-0",children:[e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",href:"/apps-ecommerce-order-details",className:"text-primary d-inline-block p-0",children:e.jsx("i",{className:"ri-eye-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item edit",children:e.jsx(N,{variant:"link",className:"text-primary d-inline-block edit-item-btn p-0",onClick:()=>{const r=t.row.original;L(r)},children:e.jsx("i",{className:"ri-pencil-fill fs-16"})})}),e.jsx("li",{className:"list-inline-item",children:e.jsx(N,{variant:"link",className:"text-danger d-inline-block remove-item-btn p-0",onClick:()=>{const r=t.row.original;I(r)},children:e.jsx("i",{className:"ri-delete-bin-5-fill fs-16"})})})]})}],[]),[K,w]=l.useState(!1);return l.useEffect(()=>{n&&(n.success&&n.success!=null&&A.success(n.success,{autoClose:3e3}),n.error&&n.error!=null&&A.error(n.error,{autoClose:3e3}))},[n]),e.jsxs(U.Fragment,{children:[e.jsx(W,{title:"Orders | Velzon - React Admin & Dashboard Template"}),e.jsxs("div",{className:"page-content",children:[e.jsx(Y,{show:K,onCloseClick:()=>w(!1),data:d}),e.jsx(J,{show:V,onDeleteClick:M,onCloseClick:()=>y(!1)}),e.jsxs(ee,{fluid:!0,children:[e.jsx(q,{title:"Orders",pageTitle:"Ecommerce"}),e.jsx(C,{children:e.jsx(k,{lg:12,children:e.jsxs(_,{id:"orderList",children:[e.jsx(_.Header,{className:"card-header border-0",children:e.jsxs(C,{className:"align-items-center gy-3",children:[e.jsx("div",{className:"col-sm",children:e.jsx("h5",{className:"card-title mb-0",children:"Order History"})}),e.jsx("div",{className:"col-sm-auto",children:e.jsxs("div",{className:"d-flex gap-1 flex-wrap",children:[e.jsxs("button",{type:"button",className:"btn btn-success add-btn",id:"create-btn",onClick:()=>{D(!1),j()},children:[e.jsx("i",{className:"ri-add-line align-bottom me-1"})," Create Order"]})," ",e.jsxs("button",{type:"button",className:"btn btn-info",onClick:()=>w(!0),children:[e.jsx("i",{className:"ri-file-download-line align-bottom me-1"})," ","Export"]})]})})]})}),e.jsxs(_.Body,{className:"pt-0",children:[e.jsx("div",{children:e.jsxs(te.Container,{defaultActiveKey:"1",children:[e.jsxs(i,{className:"nav-tabs nav-tabs-custom nav-success",role:"tablist",children:[e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"all",className:x({active:u==="all"},"all py-3"),onClick:()=>{h("all","1")},children:[e.jsx("i",{className:"ri-store-2-fill me-1 align-bottom"})," ","All Orders"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"deliverd",className:x({active:u==="deliverd"},"deliverd py-3"),onClick:()=>{h("deliverd","2")},href:"#",children:[e.jsx("i",{className:"ri-checkbox-circle-line me-1 align-bottom"})," ","Delivered"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"pickups",className:x({active:u==="pickups"},"pickups py-3"),onClick:()=>{h("pickups","3")},children:[e.jsx("i",{className:"ri-truck-line me-1 align-bottom"})," ","Pickups"," ",e.jsx("span",{className:"badge bg-danger align-middle ms-1",children:"2"})]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"returns",href:"#",className:x({active:u==="returns"},"returns py-3"),onClick:()=>{h("returns","4")},children:[e.jsx("i",{className:"ri-arrow-left-right-fill me-1 align-bottom"})," ","Returns"]})}),e.jsx(i.Item,{children:e.jsxs(i.Link,{eventKey:"cancelled",href:"#",className:x({active:u==="cancelled"},"cancelled py-3"),onClick:()=>{h("cancelled","5")},children:[e.jsx("i",{className:"ri-close-circle-line me-1 align-bottom"})," ","Cancelled"]})})]}),e.jsx(Q,{columns:B,data:o.orders||[],isGlobalFilter:!0,customPageSize:8,divClass:"table-responsive table-card mb-1 mt-0",tableClass:"align-middle table-nowrap",theadClass:"table-light text-muted text-uppercase",isOrderFilter:!0,SearchPlaceholder:"Search for order ID, customer, order status or something..."})]})}),e.jsxs(S,{id:"showModal",show:v,onHide:j,centered:!0,children:[e.jsx(S.Header,{className:"bg-light p-3",closeButton:!0,children:e.jsx("h5",{className:"modal-title",children:f?"Edit Order":"Add Order"})}),e.jsxs(s,{className:"tablelist-form",onSubmit:O,children:[e.jsxs(S.Body,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"order_id",className:"form-label",children:"Order Id"}),e.jsx(s.Control,{name:"orderId",id:"order_id",className:"form-control",placeholder:"Enter Order Id",type:"text",value:c.order_id,onChange:t=>m("order_id",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.order_id})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"customer_name",className:"form-label",children:"Customer Name"}),e.jsx(s.Control,{name:"customer",id:"customer_name",className:"form-control",placeholder:"Enter Name",type:"text",value:c.customer_name,onChange:t=>m("customer_name",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.customer_name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s.Label,{htmlFor:"product",className:"form-label",children:"Product"}),e.jsxs(s.Select,{name:"product",id:"product",value:c.product,onChange:t=>{m("product",t.target.value)},children:[e.jsx("option",{value:"Product",children:"Product "}),e.jsx("option",{value:"Puma Tshirt",children:"Puma Tshirt "}),e.jsx("option",{value:"Adidas Sneakers",children:"Adidas Sneakers "}),e.jsx("option",{value:"350 ml Glass Grocery Container",children:"350 ml Glass Grocery Container "}),e.jsx("option",{value:"American egale outfitters Shirt",children:"American egale outfitters Shirt "}),e.jsx("option",{value:"Galaxy Watch4",children:"Galaxy Watch4 "}),e.jsx("option",{value:"Apple iPhone 12",children:"Apple iPhone 12 "}),e.jsx("option",{value:"Funky Prints T-shirt",children:"Funky Prints T-shirt "}),e.jsx("option",{value:"USB Flash Drive Personalized with 3D Print",children:"USB Flash Drive Personalized with 3D Print "}),e.jsx("option",{value:"Oxford Button-Down Shirt",children:"Oxford Button-Down Shirt "}),e.jsx("option",{value:"Classic Short Sleeve Shirt",children:"Classic Short Sleeve Shirt "}),e.jsx("option",{value:"Half Sleeve T-Shirts (Blue)",children:"Half Sleeve T-Shirts (Blue) "}),e.jsx("option",{value:"Noise Evolve Smartwatch",children:"Noise Evolve Smartwatch "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.product})]}),e.jsxs(C,{className:"gy-4 mb-3",children:[e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"amount-field",className:"form-label",children:"Amount"}),e.jsx(s.Control,{name:"amount",type:"text",value:c.amount,onChange:t=>m("amount",t.target.value)}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.amount})]})}),e.jsx(k,{md:6,children:e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"payment_method",className:"form-label",children:"Payment Method"}),e.jsxs(s.Select,{name:"payment_method",id:"payment_method",value:c.payment_method,onChange:t=>{m("payment_method",t.target.value)},children:[e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Mastercard",children:"Mastercard "}),e.jsx("option",{value:"Paypal",children:"Paypal "}),e.jsx("option",{value:"Visa",children:"Visa "}),e.jsx("option",{value:"COD",children:"COD "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.payment_method})]})})]}),e.jsxs("div",{children:[e.jsx(s.Label,{htmlFor:"delivery_status",className:"form-label",children:"Delivery Status"}),e.jsxs(s.Select,{name:"delivery_status",id:"delivery_status",value:c.delivery_status,onChange:t=>{m("delivery_status",t.target.value)},children:[e.jsx("option",{value:"Status",children:"Status "}),e.jsx("option",{value:"All",children:"All "}),e.jsx("option",{value:"Pending",children:"Pending "}),e.jsx("option",{value:"Inprogress",children:"Inprogress "}),e.jsx("option",{value:"Cancelled",children:"Cancelled "}),e.jsx("option",{value:"Pickups",children:"Pickups "}),e.jsx("option",{value:"Returns",children:"Returns "}),e.jsx("option",{value:"Delivered",children:"Delivered "})]}),e.jsx(s.Control.Feedback,{type:"invalid",className:"d-block",children:o.errors.delivery_status})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("div",{className:"hstack gap-2 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>{p(!1)},children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-success",children:f?"Update":"Add Customer"})]})})]})]}),e.jsx(Z,{closeButton:!1,limit:1})]})]})})})]})]})]})};re.layout=o=>e.jsx($,{children:o});export{re as default};
